<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Montar Quiz</title>
</head>

<body style="font-family: Arial; max-width:800px; margin:auto;">

    <div id="debug" style="background:#ffeeba;padding:10px;margin-bottom:10px;">
Carregando scripts...
</div>

<h2>ğŸ“˜ Montagem de Quiz</h2>
<div id="teste" style="background:#eee;padding:10px;">Testando conexÃ£o...</div>
<label>Disciplina:</label>
<select id="disciplina"></select>
<br><br>

<label>Assunto:</label>
<select id="assunto"></select>
<div id="infoAssunto" style="font-size:12px;color:#555;margin-top:4px;"></div>
<br>

<label>Descritor (opcional):</label>
<select id="descritor"></select>
<div id="infoDescritor" style="font-size:12px;color:#555;margin-top:4px;"></div>
<br>

<label>Quantidade de questÃµes:</label>
<input type="number" id="quantidade" value="5">
<br><br>

<label>Nome do Quiz:</label>
<input type="text" id="nomeQuiz" placeholder="Ex: RevisÃ£o FunÃ§Ãµes 3ÂºA">
<br><br>

<button onclick="gerarQuiz()">Gerar Quiz</button>

<p id="resultado"></p>

<script>
window.onerror = function(msg, src, line, col, err){
    document.body.innerHTML = `
        <h2 style="color:red">Erro detectado</h2>
        <b>Mensagem:</b> ${msg}<br>
        <b>Arquivo:</b> ${src}<br>
        <b>Linha:</b> ${line}<br>
        <b>Coluna:</b> ${col}<br>
        <pre>${err ? err.stack : ""}</pre>
    `;
    return true;
};
</script>
    
<script src="./js/conexao.js"></script>

<script>

const url = "https://script.google.com/macros/s/AKfycbwoeCI-gCMXauWzpTQUekSsotpPFXnhknsEUjyM8T3T_RxUv2c_v_0Ud8ACCCOazUgqfw/exec?tipo=questoes";

fetch(url)
.then(r => r.json())
.then(d => {
    document.getElementById("teste").innerHTML =
        "âœ… API respondeu. Linhas recebidas: " + d.length;
})
.catch(e => {
    document.getElementById("teste").innerHTML =
        "âŒ Erro ao acessar API: " + e;
});

</script>

</body>
</html>
