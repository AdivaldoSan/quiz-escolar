<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Cadastro - Sistema Web Quiz</title>
</head>
<body style="font-family: Arial; text-align:center; margin-top:60px;">

<h2>ðŸ“‹ Primeiro Acesso</h2>

<input type="text" id="nome" placeholder="Nome completo" style="padding:8px; width:250px;"><br><br>
<input type="email" id="email" placeholder="Email" style="padding:8px; width:250px;"><br><br>
<input type="password" id="senha" placeholder="Senha" style="padding:8px; width:250px;"><br><br>

<button onclick="cadastrar()" style="padding:10px 20px;">Cadastrar</button>

<p id="msg"></p>

<script src="js/conexao.js"></script>

<script>
async function cadastrar(){

  const nome = document.getElementById("nome").value;
  const email = document.getElementById("email").value;
  const senha = document.getElementById("senha").value;

  const resposta = await fetch(URL_API, {
    method: "POST",
    body: JSON.stringify({
      tipo:"cadastro",
      nome:nome,
      email:email,
      senha:senha
    })
  });

  const dados = await resposta.json();

  if(dados.mensagem){
    document.getElementById("msg").innerText =
      "Cadastro realizado. Aguarde aprovaÃ§Ã£o.";
  }else{
    document.getElementById("msg").innerText =
      dados.erro || "Erro no cadastro.";
  }
}
</script>

</body>
</html>
